<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
  <!-- Generic master table fragment usable across modules -->
  <div class="d-none">
    <!--
      Usage example:
      <div th:replace="~{fragments/_master-table :: masterTable(
          addHref=@{/Add}, addLabel=${'Add New'},
          thead=~{::theadContent}, tbody=~{::tbodyContent}
      )}">
        <thead th:fragment="theadContent">...</thead>
        <tbody th:fragment="tbodyContent">...</tbody>
      </div>
    -->
    <section th:fragment="masterTable(addHref, addLabel, thead, tbody)">
      <div class="table-responsive card">
        <div class="card-header" th:if="${addHref}">
          <a class="btn btn-primary" th:href="${addHref}"><i class="icon ti ti-library-plus"></i>[[${addLabel}]]</a>
        </div>
        <table class="table table-vcenter card-table">
          <thead th:replace="${thead}"></thead>
          <tbody th:replace="${tbody}"></tbody>
        </table>
        <div class="card-footer" th:if="${addHref}">
          <a class="btn btn-primary" th:href="${addHref}"><i class="icon ti ti-library-plus"></i>[[${addLabel}]]</a>
        </div>
      </div>
    </section>

    <th th:fragment="colHeader(label)"><span th:text="${label}">Header</span></th>
    <th th:fragment="colHeaderNarrow()" class="w-1"></th>

    <td th:fragment="colText(text)" th:text="${text}">Text</td>

    <td th:fragment="colTextAdd(text, additional)">
      <div th:text="${text}">text</div>
      <small class="text-muted" th:text="${additional}">description</small>
    </td>

    <td th:fragment="colYesNo(enabled)">
      <span th:if="${enabled}" class="text-success"><i class="icon ti ti-circle-check"></i> Yes</span>
      <span th:if="${!enabled}" class="text-danger"><i class="icon ti ti-circle-x"></i> No</span>
    </td>

    <td th:fragment="colCron(cronExpr, defCron, desc)">
      <div th:text="${#strings.isEmpty(cronExpr) ? defCron : cronExpr}">cron</div>
      <small class="text-muted" th:text="${desc}">description</small>
    </td>

    <td th:fragment="colDate(date)" th:text="${#temporals.format(date, 'yyyy-MM-dd HH:mm')}">2025-01-01 00:00</td>

    <td th:fragment="colEditLink(href)">
      <a class="btn btn-outline-primary" th:href="${href}"><i class="icon ti ti-pencil" style="margin-right: 0; margin-left: 0"></i></a>
    </td>

    <td th:fragment="colDeleteForm(id, action)">
      <form th:action="${action}" method="post" th:onsubmit="|return confirm('Are you sure?');|">
        <input type="hidden" name="id" th:value="${id}"/>
        <button type="submit" class="btn btn-outline-danger"><i class="icon ti ti-trash" style="margin-right: 0; margin-left: 0"></i></button>
      </form>
    </td>

  </div>
</body>
</html>
